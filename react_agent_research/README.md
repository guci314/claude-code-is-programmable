# LangChain ReAct æ™ºèƒ½ä½“ç ”ç©¶

åŸºäºLangChainçš„ReActï¼ˆæ¨ç†+è¡ŒåŠ¨ï¼‰èŒƒå¼çš„ç»¼åˆå®ç°ï¼Œå±•ç¤ºäº†èƒ½å¤Ÿæ¨ç†é—®é¢˜å¹¶ä½¿ç”¨ä¸€å¥—è‡ªå®šä¹‰å·¥å…·è¿›è¡Œè¡ŒåŠ¨çš„è‡ªä¸»AIæ™ºèƒ½ä½“ã€‚

## ğŸ¯ æ¦‚è¿°

è¯¥é¡¹ç›®å®ç°äº†ä¸€ä¸ªç»“åˆ**æ¨ç†**å’Œ**è¡ŒåŠ¨**çš„ReActæ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿè‡ªä¸»è§£å†³å¤æ‚é—®é¢˜ã€‚è¯¥æ™ºèƒ½ä½“å¯ä»¥ï¼š

- ğŸ§  é€šè¿‡å¤šæ­¥éª¤é—®é¢˜è¿›è¡Œ**æ¨ç†**
- ğŸ› ï¸ ä½¿ç”¨å„ç§å·¥å…·ï¼ˆç½‘ç»œæœç´¢ã€æ–‡ä»¶ç³»ç»Ÿã€è®¡ç®—å™¨ã€ä»£ç æ‰§è¡Œç­‰ï¼‰è¿›è¡Œ**è¡ŒåŠ¨**
- ğŸ”„ åœ¨æ€è€ƒå’Œè¡ŒåŠ¨ä¹‹é—´**è¿­ä»£**ï¼Œç›´åˆ°æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ
- ğŸ“Š ä»è§‚å¯Ÿä¸­**å­¦ä¹ **å¹¶è°ƒæ•´æ–¹æ³•

## ğŸ—ï¸ æ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **LangChain ReAct æ™ºèƒ½ä½“** (`langchain_react_agent.py`)
   - ä½¿ç”¨ReActæ¨ç†å¾ªç¯çš„ä¸»è¦æ™ºèƒ½ä½“å®ç°
   - æ”¯æŒå¤šä¸ªLLMæä¾›å•†ï¼ˆOpenAIã€Anthropicï¼‰
   - å¯¹è¯è®°å¿†å’Œå›è°ƒå¤„ç†
   - ç”¨äºæ¨ç†å¯è§†åŒ–çš„ä¸°å¯Œæ§åˆ¶å°è¾“å‡º

2. **è‡ªå®šä¹‰å·¥å…·å¥—ä»¶** (`react_agent_tools.py`)
   - ç”¨äºä¿¡æ¯æ”¶é›†çš„ç½‘ç»œæœç´¢å·¥å…·
   - ç”¨äºé¡¹ç›®æ£€æŸ¥çš„ä»£ç åˆ†æå·¥å…·
   - ç”¨äºå®‰å…¨æ–‡ä»¶æ“ä½œçš„æ–‡ä»¶ç³»ç»Ÿå·¥å…·
   - ç”¨äºæ•°å­¦è®¡ç®—çš„è®¡ç®—å™¨å·¥å…·
   - ç”¨äºä»£ç æ‰§è¡Œçš„Python REPLå·¥å…·
   - ç”¨äºHTTPè¯·æ±‚çš„APIå·¥å…·
   - ç”¨äºSQLiteæ“ä½œçš„æ•°æ®åº“å·¥å…·

3. **äº¤äº’å¼æ¼”ç¤º** (`react_agent_demo.py`)
   - åŠŸèƒ½å®Œæ•´çš„CLIç•Œé¢
   - é¢„å®šä¹‰åœºæ™¯å’Œäº¤äº’æ¨¡å¼
   - ä¼šè¯å†å²å’Œå†…å­˜ç®¡ç†
   - ä¸°å¯Œçš„æ§åˆ¶å°æ ¼å¼åŒ–

4. **æµ‹è¯•å¥—ä»¶** (`test_react_agent.py`)
   - æ‰€æœ‰å·¥å…·çš„ç»¼åˆå•å…ƒæµ‹è¯•
   - æ™ºèƒ½ä½“å·¥ä½œæµç¨‹çš„é›†æˆæµ‹è¯•
   - ç”¨äºå¯é æµ‹è¯•çš„æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–

5. **ç¤ºä¾‹åœºæ™¯** (`examples/`)
   - ç”¨äºä¿¡æ¯æ”¶é›†çš„ç ”ç©¶åœºæ™¯
   - ç”¨äºé¡¹ç›®æ£€æŸ¥çš„ä»£ç åˆ†æåœºæ™¯
   - ç”¨äºå¤æ‚æŒ‘æˆ˜çš„é—®é¢˜è§£å†³åœºæ™¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- Python 3.9+
- UVåŒ…ç®¡ç†å™¨ï¼ˆåŒ…å«å†…è”ä¾èµ–ï¼‰
- OpenAIã€Anthropicæˆ–DeepSeekçš„APIå¯†é’¥

### ç¯å¢ƒè®¾ç½®

1. **è®¾ç½®APIå¯†é’¥**ï¼ˆé€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ï¼š
   ```bash
   export OPENAI_API_KEY="your-openai-key"
   export ANTHROPIC_API_KEY="your-anthropic-key"
   export DEEPSEEK_API_KEY="your-deepseek-key"
   ```
   
   æˆ–è€…åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
   ```env
   DEEPSEEK_API_KEY=sk-your-deepseek-key
   OPENAI_API_KEY=sk-your-openai-key
   ANTHROPIC_API_KEY=sk-your-anthropic-key
   ```

2. **è¿è¡Œäº¤äº’å¼æ¼”ç¤º**ï¼š
   ```bash
   uv run react_agent_demo.py
   ```

3. **æµ‹è¯•å·¥å…·**ï¼š
   ```bash
   uv run react_agent_tools.py
   ```

4. **è¿è¡Œæµ‹è¯•å¥—ä»¶**ï¼š
   ```bash
   uv run test_react_agent.py
   ```

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬æ™ºèƒ½ä½“ä½¿ç”¨

```python
from langchain_react_agent import LangChainReactAgent
from react_agent_tools import get_basic_tools

# åˆå§‹åŒ–æ™ºèƒ½ä½“
agent = LangChainReactAgent(
    llm_provider="openai",
    model_name="gpt-4",
    verbose=True
)

# æ·»åŠ å·¥å…·
tools = get_basic_tools()
agent.add_tools(tools)

# æé—®
result = agent.run("240çš„15%æ˜¯å¤šå°‘ï¼ŒPythonæ˜¯ä»€ä¹ˆç¼–ç¨‹è¯­è¨€ï¼Ÿ")
print(result)
```

### é«˜çº§é—®é¢˜è§£å†³

```python
# å¤æ‚çš„å¤šæ­¥éª¤é—®é¢˜
query = """
ç ”ç©¶å¯å†ç”Ÿèƒ½æºè¶‹åŠ¿ï¼Œè®¡ç®—1000å¹³æ–¹ç±³å±‹é¡¶çš„æ½œåœ¨å¤ªé˜³èƒ½è¾“å‡ºï¼Œ
å¹¶åˆ›å»ºä¸€ä¸ªåŒ…å«åˆ†æçš„æ–‡ä»¶ã€‚
"""

result = agent.run(query)
```

### ä»£ç åˆ†æ

```python
# åˆ†æé¡¹ç›®ç»“æ„
query = "åˆ†ææ­¤ç›®å½•ä¸­çš„Pythonæ–‡ä»¶å¹¶åˆ›å»ºè´¨é‡æŠ¥å‘Š"
result = agent.run(query)
```

## ğŸ› ï¸ å¯ç”¨å·¥å…·

| å·¥å…· | æè¿° | ä½¿ç”¨æ–¹æ³• |
|------|-------------|-------|
| **ç½‘ç»œæœç´¢** | åœ¨çº¿æœç´¢ä¿¡æ¯ | `"æœç´¢Pythonç¼–ç¨‹"` |
| **ä»£ç åˆ†æ** | åˆ†æä»£ç æ–‡ä»¶å’Œç›®å½• | `"analyze:/path/to/code"` |
| **æ–‡ä»¶ç³»ç»Ÿ** | å®‰å…¨åœ°è¯»å†™æ–‡ä»¶ | `"read:file.txt"` æˆ– `"write:file.txt:content"` |
| **è®¡ç®—å™¨** | æ•°å­¦è®¡ç®— | `"2 + 3 * 4"` |
| **Python REPL** | å®‰å…¨æ‰§è¡ŒPythonä»£ç  | `"print('Hello, World!')"` |
| **APIè¯·æ±‚** | å‘é€HTTPè¯·æ±‚ | `"GET:https://api.example.com/data"` |
| **æ•°æ®åº“** | SQLiteæ“ä½œ | `"CREATE:table_name"` |

## ğŸ­ ReActæ¨¡å¼

ReActæ¨¡å¼éµå¾ªä»¥ä¸‹å¾ªç¯ï¼š

1. **æ€è€ƒ**ï¼šæ™ºèƒ½ä½“å¯¹é—®é¢˜è¿›è¡Œæ¨ç†
2. **è¡ŒåŠ¨**ï¼šæ™ºèƒ½ä½“é€‰æ‹©å¹¶ä½¿ç”¨å·¥å…·
3. **è§‚å¯Ÿ**ï¼šæ™ºèƒ½ä½“è§‚å¯Ÿç»“æœ
4. **é‡å¤**ï¼šç»§ç»­ç›´åˆ°æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ

### ReActè·Ÿè¸ªç¤ºä¾‹

```
æ€è€ƒï¼šæˆ‘éœ€è¦æ‰¾åˆ°å…³äºPythonç¼–ç¨‹çš„ä¿¡æ¯ï¼Œè¿˜éœ€è¦è®¡ç®—240çš„15%ã€‚
è¡ŒåŠ¨ï¼šweb_search
è¡ŒåŠ¨è¾“å…¥ï¼šPythonç¼–ç¨‹è¯­è¨€
è§‚å¯Ÿï¼šPythonæ˜¯ä¸€ç§ä»¥ç®€å•æ€§è‘—ç§°çš„é«˜çº§ç¼–ç¨‹è¯­è¨€...

æ€è€ƒï¼šç°åœ¨æˆ‘éœ€è¦è®¡ç®—240çš„15%ã€‚
è¡ŒåŠ¨ï¼šcalculator  
è¡ŒåŠ¨è¾“å…¥ï¼š240 * 0.15
è§‚å¯Ÿï¼šç»“æœï¼š240 * 0.15 = 36.0

æ€è€ƒï¼šæˆ‘ç°åœ¨æœ‰äº†å›ç­”é—®é¢˜æ‰€éœ€çš„ä¸¤ä¸ªä¿¡æ¯ã€‚
æœ€ç»ˆç­”æ¡ˆï¼šPythonæ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€...ï¼Œ240çš„15%æ˜¯36ã€‚
```

## ğŸ”§ é…ç½®

### LLMæä¾›å•†

æ”¯æŒå¤šä¸ªLLMæä¾›å•†ï¼š

```python
# OpenAI
agent = LangChainReactAgent(
    llm_provider="openai",
    model_name="gpt-4"
)

# Anthropic
agent = LangChainReactAgent(
    llm_provider="anthropic", 
    model_name="claude-3-sonnet-20240229"
)

# DeepSeek
agent = LangChainReactAgent(
    llm_provider="deepseek", 
    model_name="deepseek-chat"
)
```

### å·¥å…·å®šåˆ¶

æ·»åŠ è‡ªå®šä¹‰å·¥å…·ï¼š

```python
from langchain.tools import Tool

def my_custom_tool(input_text: str) -> str:
    return f"å·²å¤„ç†ï¼š{input_text}"

custom_tool = Tool(
    name="custom_tool",
    description="æˆ‘çš„è‡ªå®šä¹‰æ–‡æœ¬å¤„ç†å·¥å…·",
    func=my_custom_tool
)

agent.add_tools([custom_tool])
```

## ğŸ“Š ç¤ºä¾‹åœºæ™¯

### 1. ç ”ç©¶åœºæ™¯

```bash
uv run examples/research_scenario.py
```

æ¼”ç¤ºï¼š
- å¤šæ­¥éª¤ç ”ç©¶è¿‡ç¨‹
- ä¿¡æ¯ç»¼åˆ
- æ•°å­¦è®¡ç®—
- æŠ¥å‘Šç”Ÿæˆ

### 2. ä»£ç åˆ†æåœºæ™¯

```bash
uv run examples/code_analysis_scenario.py
```

æ¼”ç¤ºï¼š
- é¡¹ç›®ç»“æ„åˆ†æ
- ä»£ç è´¨é‡è¯„ä¼°
- å®‰å…¨åˆ†æ
- è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ

### 3. é—®é¢˜è§£å†³åœºæ™¯

```bash
uv run examples/problem_solving_scenario.py
```

æ¼”ç¤ºï¼š
- å¤æ‚é—®é¢˜åˆ†è§£
- å¤šå·¥å…·é›†æˆ
- æ–‡ä»¶ç”Ÿæˆ
- ç³»ç»Ÿè®¾è®¡æ€ç»´

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
uv run test_react_agent.py
```

### æµ‹è¯•è¦†ç›–ç‡

æµ‹è¯•å¥—ä»¶æ¶µç›–ï¼š
- ä¸ªåˆ«å·¥å…·åŠŸèƒ½
- é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
- å®‰å…¨æªæ–½
- é›†æˆå·¥ä½œæµç¨‹
- æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–

### æµ‹è¯•ç»“æ„

```
test_react_agent.py
â”œâ”€â”€ TestWebSearchTool
â”œâ”€â”€ TestCodeAnalysisTool  
â”œâ”€â”€ TestFileSystemTool
â”œâ”€â”€ TestCalculatorTool
â”œâ”€â”€ TestPythonREPLTool
â”œâ”€â”€ TestAPITool
â”œâ”€â”€ TestDatabaseTool
â”œâ”€â”€ TestToolIntegration
â””â”€â”€ TestAgentIntegration
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### å®‰å…¨å·¥å…·æ‰§è¡Œ

- **æ–‡ä»¶ç³»ç»Ÿ**ï¼šé™åˆ¶å¯¹å½“å‰ç›®å½•çš„è®¿é—®
- **Python REPL**ï¼šæ²™ç®±æ‰§è¡Œç¯å¢ƒ
- **è®¡ç®—å™¨**ï¼šé˜²æ­¢ä»£ç æ³¨å…¥
- **APIå·¥å…·**ï¼šè¯·æ±‚è¶…æ—¶å’ŒéªŒè¯
- **æ•°æ®åº“**ï¼šä½¿ç”¨å†…å­˜SQLiteä»¥ç¡®ä¿å®‰å…¨

### è¾“å…¥éªŒè¯

æ‰€æœ‰å·¥å…·éƒ½å®ç°ï¼š
- è¾“å…¥æ¸…ç†
- å±é™©æ“ä½œæ£€æµ‹
- é”™è¯¯å¤„ç†å’Œä¼˜é›…é™çº§
- èµ„æºä½¿ç”¨é™åˆ¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
react_agent_research/
â”œâ”€â”€ langchain_react_agent.py      # ä¸»è¦æ™ºèƒ½ä½“å®ç°
â”œâ”€â”€ react_agent_tools.py          # è‡ªå®šä¹‰å·¥å…·å¥—ä»¶
â”œâ”€â”€ react_agent_demo.py           # äº¤äº’å¼æ¼”ç¤º
â”œâ”€â”€ test_react_agent.py           # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ README.md                     # æ­¤æ–‡ä»¶
â””â”€â”€ examples/
    â”œâ”€â”€ research_scenario.py      # ç ”ç©¶æ¼”ç¤º
    â”œâ”€â”€ code_analysis_scenario.py # ä»£ç åˆ†ææ¼”ç¤º
    â””â”€â”€ problem_solving_scenario.py # é—®é¢˜è§£å†³æ¼”ç¤º
```

## ğŸ”— ä¸Claude Codeçš„é›†æˆ

è¯¥é¡¹ç›®éµå¾ªçˆ¶ä»“åº“ä¸­å»ºç«‹çš„æ¨¡å¼ï¼š

- **UVè„šæœ¬æ¨¡å¼**ï¼šå†…è”ä¾èµ–ç®¡ç†
- **ç¯å¢ƒå˜é‡**ï¼šä¸€è‡´çš„APIå¯†é’¥å¤„ç†
- **Richæ§åˆ¶å°**ï¼šç¾è§‚çš„ç»ˆç«¯è¾“å‡º
- **é”™è¯¯å¤„ç†**ï¼šä¼˜é›…çš„æ•…éšœæ¨¡å¼
- **æµ‹è¯•**ï¼šå…¨é¢çš„æµ‹è¯•è¦†ç›–

### ä¸Claude Codeä¸€èµ·è¿è¡Œ

```bash
# ä»çˆ¶ç›®å½•è¿è¡Œ
uv run react_agent_research/react_agent_demo.py
```

## ğŸ¯ ä½¿ç”¨æ¡ˆä¾‹

### ç ”ç©¶ä¸åˆ†æ
- å¸‚åœºç ”ç©¶è‡ªåŠ¨åŒ–
- æŠ€æœ¯æ–‡æ¡£åˆ†æ
- ç«äº‰æƒ…æŠ¥æ”¶é›†
- å­¦æœ¯ç ”ç©¶ååŠ©

### ä»£ç å¼€å‘
- è‡ªåŠ¨ä»£ç å®¡æŸ¥
- é¡¹ç›®ç»“æ„åˆ†æ
- æ–‡æ¡£ç”Ÿæˆ
- é”™è¯¯æ£€æµ‹å’Œä¿®å¤

### é—®é¢˜è§£å†³
- æ•°å­¦é—®é¢˜è§£å†³
- ç³»ç»Ÿè®¾è®¡æŒ‘æˆ˜
- æ•°æ®åˆ†æä»»åŠ¡
- å¤šæ­¥éª¤è®¡ç®—

### å•†ä¸šåº”ç”¨
- æµç¨‹è‡ªåŠ¨åŒ–
- æŠ¥å‘Šç”Ÿæˆ
- æ•°æ®å¤„ç†å·¥ä½œæµç¨‹
- å†³ç­–æ”¯æŒç³»ç»Ÿ

## ğŸš§ é™åˆ¶

### å½“å‰é™åˆ¶
- å·¥å…·æ‰§è¡Œæ˜¯é¡ºåºçš„ï¼ˆæ— å¹¶è¡Œå¤„ç†ï¼‰
- é™äºåŸºäºæ–‡æœ¬çš„äº¤äº’
- ä¼šè¯é—´æ— æŒä¹…å†…å­˜
- APIé€Ÿç‡é™åˆ¶å¯èƒ½å½±å“æ€§èƒ½

### æœªæ¥å¢å¼º
- å¹¶è¡Œå·¥å…·æ‰§è¡Œ
- æŒä¹…å†…å­˜ç³»ç»Ÿ
- å¤šæ¨¡æ€èƒ½åŠ›ï¼ˆå›¾åƒã€éŸ³é¢‘ï¼‰
- è‡ªå®šä¹‰å·¥å…·å¸‚åœº
- æ€§èƒ½ä¼˜åŒ–

## ğŸ¤ è´¡çŒ®

### æ·»åŠ æ–°å·¥å…·

1. åœ¨`react_agent_tools.py`ä¸­åˆ›å»ºæ–°å·¥å…·ç±»
2. å®ç°å…·æœ‰é€‚å½“é”™è¯¯å¤„ç†çš„å¿…éœ€æ–¹æ³•
3. æ·»åŠ å®‰å…¨æªæ–½å’Œè¾“å…¥éªŒè¯
4. åœ¨`test_react_agent.py`ä¸­åˆ›å»ºæµ‹è¯•
5. æ›´æ–°æ–‡æ¡£

### ç¤ºä¾‹å·¥å…·æ¨¡æ¿

```python
class MyCustomTool:
    def __init__(self):
        self.name = "my_tool"
        self.description = "æ­¤å·¥å…·åŠŸèƒ½çš„æè¿°"
    
    def execute(self, input_data: str) -> str:
        try:
            # å®ç°å·¥å…·é€»è¾‘
            # æ·»åŠ å®‰å…¨æ£€æŸ¥
            # ä¼˜é›…åœ°å¤„ç†é”™è¯¯
            return f"ç»“æœï¼š{input_data}"
        except Exception as e:
            return f"é”™è¯¯ï¼š{str(e)}"
```

## ğŸ“š å‚è€ƒèµ„æ–™

### ReActè®ºæ–‡
- [ReActï¼šåœ¨è¯­è¨€æ¨¡å‹ä¸­ååŒæ¨ç†å’Œè¡ŒåŠ¨](https://arxiv.org/abs/2210.03629)
- ä½œè€…ï¼šShunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, Yuan Cao

### LangChainæ–‡æ¡£
- [LangChainæ™ºèƒ½ä½“](https://python.langchain.com/docs/modules/agents/)
- [è‡ªå®šä¹‰å·¥å…·](https://python.langchain.com/docs/modules/agents/tools/)
- [ReActæ™ºèƒ½ä½“](https://python.langchain.com/docs/modules/agents/agent_types/react/)

### ç›¸å…³é¡¹ç›®
- [LangChain](https://github.com/langchain-ai/langchain)
- [OpenAI API](https://openai.com/api/)
- [Anthropic API](https://docs.anthropic.com/)

## ğŸ“„ è®¸å¯è¯

è¯¥é¡¹ç›®æ˜¯claude-code-is-programmableä»“åº“çš„ä¸€éƒ¨åˆ†ï¼Œéµå¾ªç›¸åŒçš„è®¸å¯æ¡æ¬¾ã€‚

---

*ä½¿ç”¨LangChainã€Claude Codeå’ŒReActèŒƒå¼æ„å»ºï¼Œæ»¡æ€€â¤ï¸*